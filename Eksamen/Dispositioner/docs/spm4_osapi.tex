\section{OS API}

\subsection{Sub topics}

\begin{itemize}
	\item The design philosophy - Why OO and OS Api?
	\item Elaborate on the challenge of building it and its currenct design:
	\begin{itemize}
		\item The PIMPL / Cheshire Cat idiom - The how and why.
		\item CPU / OS Architecture.
	\end{itemize}
	\item Effect on design/implementation:
	\begin{itemize}
		\item MQs (Message queues) used with pthreads contra MQ used in OO OS Api.
		\item RAII in use.
		\item Using Threads before and now.
	\end{itemize}
	\item UML Diagrams to implementation (class and sequence) - How?
\end{itemize}

\subsection{Curriculum}

\begin{itemize}
	\item Slides: OS Api".
	\item OLA: OSAL SERNA SAC10".
	\item OLA: Speciffcation of an OS Api".
	\item Kerrisk: Chapter 35: Process Priorities and Schedul-ing".
\end{itemize}

\subsection{Exercises}

\begin{itemize}
	\item OS API.
\end{itemize}

\subsection{The design philosophy - Why OO and OS Api?}

Et OS Api giver et abstraktionslag for operativsystemet. Denne abstraktion gør det muligt at \textit{unify} OS arkitektur, og dermed opnå højere portabilitet for applikationer. med andre ord giver et OS Api os et generelt interface der kan genbruges på tværs af platforme.

I vores tilfælde, i arbejdet med POSIX tråde, betyder et OS Api, at vi ikke skal omskrive vores kode, så den kan kompileres til Windows. Se illustration på figur \ref{fig:ApiModel}.
OS Api'et sikrer samtidigt at man ikke skal tænke på de lavpraktiske OS-spicifikke detaljer, og at man i stedet kan fokusere på brugbarheden af applikationen.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.6\linewidth]{figs/spm4/osapiModel}
	\caption{Illustration af  OS abstraktion}
	\label{fig:ApiModel}
\end{figure}

\subsubsection{Hvorfor et objekt-orienteret design?}
\begin{itemize}
	\item Lettere af arbejde med, når man er vant til objekter.
	\item Renere kode.
	\begin{itemize}
		\item Koden er mere letlæselig.
		\item Bedre mulighed for at tilføje/ændre i koden.
		\item Bedre \textit{testability}.
		\item Nemt at lave interaktive designs (Eventbaseret programmering).
	\end{itemize}
\end{itemize}

\subsection{Elaborate on the challenge of building it and its currenct design}

\subsubsection{The PIMPL / Cheshire Cat idiom - The how and why}

PIMPL - Pointer to Implementation

\subsubsection{CPU / OS Architecture}

\subsection{Effect on design/implementation}

\subsubsection{MQs (Message queues) used with pthreads contra MQ used in OO OS Api}

\subsubsection{RAII in use}

\subsubsection{Using Threads before and now}

\subsection{UML Diagrams to implementation (class and sequence) - How}
